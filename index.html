<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>touchMe</title>
</head>
   <link rel="stylesheet" href="style.css">
  <script src="pixi.min.js"></script>
  <script type="text/javascript" >
  
    let type = "WebGL"
    let app = new PIXI.Application();

    if(!PIXI.utils.isWebGLSupported()){
      type = "canvas"
    }

    //Orientation -> behaviour
    function renderPortrait (){
        app.renderer.autoresize = true;
        app.renderer.view.style.position = "absolute";
        app.renderer.view.style.display = "block";
        app.renderer.resize(window.innerWidth, window.innerHeight);
        document.body.appendChild(app.view);
    }

    function renderLandscape(){
        app.renderer.view.style.position = "absolute";
        app.renderer.view.style.marginLeft = "auto";
        app.renderer.resize(window.innerHeight*.75,window.innerHeight);
        document.body.appendChild(app.view);
    }

    //controls
    var touchTime = 0;
    var touchLength;
    var touchStart;
    var isTouching = false;
    var isStartingTouch = false;

    function touchStart(e){
      isStartingTouch = true;
      touchStart = e.timeStamp;
    }

    function touch(e){
        isStartingTouch = false;
        isTouching = true;
        touchTime = e.timeStamp - touchStart;
    }

    function touchEnd(e){
      touchTime = e.timeStamp - touchStart;
      isTouching = false;
    }

  </script>
<body>    
  <script type="text/javascript">

    var div = document.createElement('div');
    div.style.fontSize = "25px";
    (function() {      
      document.body.appendChild(div);
      renderPortrait();
      document.body.addEventListener('touchmove',  touch, false)
      document.body.addEventListener('touchstart',  touchStart, false)
      document.body.addEventListener('touchend',  touchEnd, false)
    })();
    
    //loop
    app.ticker.add(function(delta){
      div.innerHTML ='Oh, my, you\'ve been touching me for: ' + Math.round(touchTime) + ' seconds dam. touch start:' + isStartingTouch + '. touch moving: ' + isTouching; 
    })
  </script>
</body>
</html>
